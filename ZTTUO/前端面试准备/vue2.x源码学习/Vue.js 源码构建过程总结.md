##  vue编译构建打包过程

首先在源码目录下，构建的代码在 script 目录下的 build 页面下

在 build 页面执行的时候首选需要依赖于 script 目录下的 config 页面中的配置

config 页面中储存了不同vue版本的编译配置，最终输出的文件为构建工具 Rollup 可以识别的配置文件集合

config 页面中有 builds 的一个对象集合，其中包含了vue不同版本的自定义的配置需选项，其中 entry 代表了编译入口，dest 代表编译后输出的目录及其文件名，format 代表输出的文件格式， banner 会在输出的文件中加上一些文件注释

config 页面 builds 自定义配置项中 entry 方法 和 dest 方法 都调用了resolve 方法，这个方法通过获取 builds  每一项配置的 key ，对这个key做了字符串分割，获取第一个 - 前面的内容，然后通过调用 aliases 方法 在 aliases 中提前写好的配置项中找到相对应的编译的源代码部分的目录

在 config 页面底部导出的时候通过调用 genConfig 方法将自定义的 builds 配置项进行重新改写，写成 构建工具Rollup 可以识别的配置文件集合 

在 build 页面获取到 config  修改后的配置项后，对文件中的构建内容进行筛选，去除不需要构建的部分，然后排查是否为 weex 环境，然后对代码进行递归调用进行编译，输出编译后的代码

编译后代码生成后 通过判断 dest 文件名是否带有min.js字段，如果有，则将文件进行开启压缩工具进行压缩，压缩后调用fs模块的write功能将压缩后的代码写入输出目录下的文件中，并输出最终的文件

输出最终的文件均存放在vue源码目录下的dist中



